Rest URIs architettura
======================

Rest URIs design

.. contents::

Autenticazione e info su utenti
-------------------------------

+--------------------------------------------------------------------+
|         http://api.oaks.com/v1/geo/api-auth/login                  |
+-------------+------------------------------------------------------+
|**POST**     |    authenticazione con username and password         |  
+-------------+------------------------------------------------------+
    

+--------------------------------------------------------------------+
|         http://api.oaks.com/v1/geo/current-user                    |
+-------------+------------------------------------------------------+
|**GET**      | mostra l'utente loggato                              |  
+-------------+------------------------------------------------------+

+--------------------------------------------------------------------+
|         http://api.oaks.com/v1/geo/users                           |
+-------------+------------------------------------------------------+
|**GET**      | mostra tutti gli utenti registrati                   |  
+-------------+------------------------------------------------------+

+--------------------------------------------------------------------+
|         http://api.oaks.com/v1/geo/users/**id_user**               |
+-------------+------------------------------------------------------+
|**GET**      | mostra info sull'utente con id= **id_user**          |  
+-------------+------------------------------------------------------+

Risorse disponibili solo agli utenti autenticati
------------------------------------------------

Trattamento dei dati
````````````````````

Le risorse dati sono **shape files** e **triple stores** files.


+--------------------------------------------------------------------+
|         http://api.oaks.com/v1/geo/data                            |
+-------------+------------------------------------------------------+
|**GET**      | elenca tutte le risorse dati caricate dall'utente    |  
+-------------+------------------------------------------------------+


+---------------------------------------------------------------------+
|         http://api.oaks.com/v1/geo/data/**file_name**?type= **type**|
+-------------+-------------------------------------------------------+
|**GET**      | download di **file_name** con type= shp,rdf,all       |  
+-------------+-------------------------------------------------------+

+--------------------------------------------------------------------+
|         http://api.oaks.com/v1/geo/gitlog                          |
+-------------+------------------------------------------------------+
|**GET**      | mostra informazioni di versioning (geogit)           |
+-------------+------------------------------------------------------+

Shape Files
````````````````````
+--------------------------------------------------------------------+
|         http://api.oaks.com/v1/geo/data/shapes                     |
+-------------+------------------------------------------------------+
|**GET**      | elenca tutti gli shape files caricati dall'utente    |  
+-------------+------------------------------------------------------+
|**POST**     | carica uno shape file, lo converte in formato        |
|             | triple-stores e lo salva nel **db semantico**        | 
+-------------+------------------------------------------------------+

+--------------------------------------------------------------------+
|         http://api.oaks.com/v1/geo/data/shapes/**id_shape**        |
+-------------+------------------------------------------------------+
|**GET**      | download del file con id= **id_shape**               |  
+-------------+------------------------------------------------------+
|**DELETE**   | cancella il file con id= **id_shape**                | 
+-------------+------------------------------------------------------+


Triple Stores 
````````````````````
+--------------------------------------------------------------------+
|         http://api.oaks.com/v1/geo/data/triple-stores              |
+-------------+------------------------------------------------------+
|**GET**      | elenca tutti i triple-stores caricati dall'utente    |  
+-------------+------------------------------------------------------+
|**POST**     | carica un triple stores file e lo salva nel          | 
|             | **db semantico**                                     | 
+-------------+------------------------------------------------------+

+--------------------------------------------------------------------+
|         http://api.oaks.com/v1/geo/data/triple-stores/**id_store** |
+-------------+------------------------------------------------------+
|**GET**      | download del file con id= **id_store**               |  
+-------------+------------------------------------------------------+
|**DELETE**   | cancella il file con id= **id_store**                | 
+-------------+------------------------------------------------------+





Risorse pubbliche
-----------------

conversione di formato (utility)
````````````````````````````````

+--------------------------------------------------------------------+
|         http://api.oaks.com/v1/geo/data/shape-convert              |
+-------------+------------------------------------------------------+
|**POST**     | converte uno shape in triple-store file e lo rende   | 
|             | disponibile per il download                          |  
+-------------+------------------------------------------------------+